# 应用端微服务接口管理工具 Service for app(curl) -- blade

### 一、工具说明

本工具提供应用端引用微服务接口的各种管理方案，本工具使用curl实现，如果需使用其他交互方式，请点击传送门查看

- Service for app(socket)
- Service for app(workerman)
- Service for app(swoole)

_注意：同时只能用一种交互方式的管理工具，在安装其他交互方式的管理工具前，请先移除原有交互方式_

### 二、功能说明

工具在使用时会在项目目录下生成名为【blade.json】的配置文件，由于开发环境、测试环境和生产环境的不同，其配置也不同，请结合项目实际情况判断是否要将配置文件加入代码管理库

1、配置中控台，命令与配置参数如下：
```shell script
composer bsa init
# 1、请输入应用名称：(此应用名将在中控台记录)
# 2、请输入中控台URL：（本工具基于curl实现的，对接中控台时是以url方式交互）
```
对接成功后中控台会为当前应用分配一个appId和密钥，用于数据交互，配置将保存至【blade.json】配置文件中

2、引用微服务接口，命令与配置参数如下（其中“xxx”是代用微服务名）：
```shell script
composer bsa require xxx
# {当没有配置中控台时}
# 当前未配置中控台，只能配置微服务直连，若需要使用中控台，请先退出并配置好后再重新执行本条命令
# 请输入微服务URL：（本工具基于curl实现的，直连对接微服务是以url方式交互）
# {有配置中控台时}
# 请选择：（输入数字即可）
# - 使用中控台转发微服务（1）
# - 直连微服务（2）
# {选择2时}
# 请输入微服务URL：
# {当没有配置微服务存放目录时}
# 请输入微服务存放目录：（相对根目录下的目录路径）
# 是否自动更新【composer.json】配置（n/y）：（选择y时，会自动在composer.json文件的autoload->psr-4下增加微服务命名空间，并自动执行composer update）
```
没有配置中控台时，只能使用直连微服务的方式；
配置过中控台时，可以选择 使用中控台转发微服务 或者 直连微服务；
自动下载接口文件并放于微服务目录中

3、移除微服务接口，命令与配置参数如下（其中“xxx”是代用微服务名）：
```shell script
composer bsa remove xxx
# 是否自动更新【composer.json】配置（n/y）：（选择y时，会自动在composer.json文件的autoload->psr-4下移除微服务命名空间，并自动执行composer update）
```
自动移除微服务引用；自动删除对应文件和文件夹
